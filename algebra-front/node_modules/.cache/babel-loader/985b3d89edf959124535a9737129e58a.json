{"remainingRequest":"D:\\9Space\\idea\\algebra\\algebra-front\\node_modules\\thread-loader\\dist\\cjs.js!D:\\9Space\\idea\\algebra\\algebra-front\\node_modules\\babel-loader\\lib\\index.js!D:\\9Space\\idea\\algebra\\algebra-front\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\9Space\\idea\\algebra\\algebra-front\\src\\utils\\api.js","dependencies":[{"path":"D:\\9Space\\idea\\algebra\\algebra-front\\src\\utils\\api.js","mtime":1617688307249},{"path":"D:\\9Space\\idea\\algebra\\algebra-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\9Space\\idea\\algebra\\algebra-front\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\9Space\\idea\\algebra\\algebra-front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\9Space\\idea\\algebra\\algebra-front\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXVpJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXInOyAvLyDor7fmsYLmi6bmiKrlmagKCmF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgLy8g5Yik5patdG9rZW7mmK/lkKblrZjlnKjvvIzlrZjlnKjliJnmkLrluKZ0b2tlbgogIGlmICh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndG9rZW5TdHInKSkgewogICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlblN0cicpOwogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgY29uc29sZS5sb2coZXJyb3IpOwp9KTsgLy8g5ZON5bqU5oum5oiq5ZmoCgpheGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChzdWNjZXNzKSB7CiAgLy8g6L+b5YWl6L+Z6YeM6K+05piO6Iez5bCR5pyN5Yqh5Zmo5bey57uP6K6/6Zeu5Yiw5LqGCiAgaWYgKHN1Y2Nlc3Muc3RhdHVzICYmIHN1Y2Nlc3Muc3RhdHVzID09PSAyMDApIHsKICAgIC8vIOS4muWKoemAu+i+kemUmeivrwogICAgLy8g5Yik5pat5ZON5bqU56CBCiAgICBpZiAoc3VjY2Vzcy5kYXRhLmNvZGUgPT09IDUwMCB8fCBzdWNjZXNzLmRhdGEuY29kZSA9PT0gNDAxIHx8IHN1Y2Nlc3MuZGF0YS5jb2RlID09PSA0MDMpIHsKICAgICAgTWVzc2FnZS5lcnJvcih7CiAgICAgICAgbWVzc2FnZTogc3VjY2Vzcy5kYXRhLm1lc3NhZ2UKICAgICAgfSk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAoc3VjY2Vzcy5kYXRhLm1lc3NhZ2UpIHsKICAgICAgTWVzc2FnZS5zdWNjZXNzKHsKICAgICAgICBtZXNzYWdlOiBzdWNjZXNzLmRhdGEubWVzc2FnZQogICAgICB9KTsKICAgIH0KICB9CgogIHJldHVybiBzdWNjZXNzLmRhdGE7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIC8vIOi/m+WFpei/memHjOivtOaYjuacjeWKoeWZqOmDveayoeiuv+mXruWIsAogIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDUwNCB8fCBlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwNCkgewogICAgTWVzc2FnZS5lcnJvcih7CiAgICAgIG1lc3NhZ2U6ICfmnI3liqHlmajmjILkuobvvIzlkZzlkZzlkZwnCiAgICB9KTsKICB9IGVsc2UgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAzKSB7CiAgICBNZXNzYWdlLmVycm9yKHsKICAgICAgbWVzc2FnZTogJ+adg+mZkOS4jei2s++8jOivt+iBlOezu+euoeeQhuWRmCcKICAgIH0pOwogIH0gZWxzZSBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsKICAgIE1lc3NhZ2UuZXJyb3IoewogICAgICBtZXNzYWdlOiAn5bCa5pyq55m75b2V77yM6K+355m75b2VJwogICAgfSk7CiAgICByb3V0ZXIucmVwbGFjZSgnLycpOwogIH0gZWxzZSB7CiAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlKSB7CiAgICAgIE1lc3NhZ2UuZXJyb3IoewogICAgICAgIG1lc3NhZ2U6IGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZQogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIE1lc3NhZ2UuZXJyb3IoewogICAgICAgIG1lc3NhZ2U6ICflh7rnjrDmnKrnn6XplJnor68nCiAgICAgIH0pOwogICAgfQogIH0KfSk7CnZhciBiYXNlID0gJyc7Cgp2YXIgcXVlcnlzdHJpbmcgPSByZXF1aXJlKCdxdWVyeXN0cmluZycpOyAvLyDor7fmsYLlsIHoo4UKCgpleHBvcnQgdmFyIHBvc3RSZXF1ZXN0ID0gZnVuY3Rpb24gcG9zdFJlcXVlc3QodXJsLCBwYXJhbXMpIHsKICByZXR1cm4gYXhpb3MoewogICAgbWV0aG9kOiAncG9zdCcsCiAgICB1cmw6ICIiLmNvbmNhdChiYXNlKS5jb25jYXQodXJsKSwKICAgIGRhdGE6IHBhcmFtcwogIH0pOwp9OwpleHBvcnQgdmFyIHBvc3RSZXF1ZXN0MiA9IGZ1bmN0aW9uIHBvc3RSZXF1ZXN0Mih1cmwsIHBhcmFtcykgewogIHJldHVybiBheGlvcyh7CiAgICBtZXRob2Q6ICdwb3N0JywKICAgIHVybDogIiIuY29uY2F0KGJhc2UpLmNvbmNhdCh1cmwpLAogICAgZGF0YTogcXVlcnlzdHJpbmcuc3RyaW5naWZ5KHBhcmFtcykKICB9KTsKfTsKZXhwb3J0IHZhciBnZXRSZXF1ZXN0ID0gZnVuY3Rpb24gZ2V0UmVxdWVzdCh1cmwsIHBhcmFtcykgewogIHJldHVybiBheGlvcyh7CiAgICBtZXRob2Q6ICdnZXQnLAogICAgdXJsOiAiIi5jb25jYXQoYmFzZSkuY29uY2F0KHVybCkgKyAnPycgKyBxdWVyeXN0cmluZy5zdHJpbmdpZnkocGFyYW1zKQogIH0pOwp9OwpleHBvcnQgdmFyIHB1dFJlcXVlc3QgPSBmdW5jdGlvbiBwdXRSZXF1ZXN0KHVybCwgcGFyYW1zKSB7CiAgcmV0dXJuIGF4aW9zKHsKICAgIG1ldGhvZDogJ3B1dCcsCiAgICB1cmw6ICIiLmNvbmNhdChiYXNlKS5jb25jYXQodXJsKSwKICAgIHBhcmFtczogcGFyYW1zCiAgfSk7Cn07CmV4cG9ydCB2YXIgZGVsZXRlUmVxdWVzdCA9IGZ1bmN0aW9uIGRlbGV0ZVJlcXVlc3QodXJsLCBwYXJhbXMpIHsKICByZXR1cm4gYXhpb3MoewogICAgbWV0aG9kOiAnZGVsZXRlJywKICAgIHVybDogIiIuY29uY2F0KGJhc2UpLmNvbmNhdCh1cmwpICsgJz8nICsgcXVlcnlzdHJpbmcuc3RyaW5naWZ5KHBhcmFtcykKICB9KTsKfTs="},{"version":3,"sources":["D:/9Space/idea/algebra/algebra-front/src/utils/api.js"],"names":["axios","Message","router","interceptors","request","use","config","window","sessionStorage","getItem","headers","Authorization","error","console","log","response","success","status","data","code","message","replace","base","querystring","require","postRequest","url","params","method","postRequest2","stringify","getRequest","putRequest","deleteRequest"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport { Message } from 'element-ui'\r\nimport router from '../router'\r\n\r\n// 请求拦截器\r\naxios.interceptors.request.use(config => {\r\n  // 判断token是否存在，存在则携带token\r\n  if (window.sessionStorage.getItem('tokenStr')) {\r\n    config.headers.Authorization = window.sessionStorage.getItem('tokenStr')\r\n  }\r\n  return config\r\n}, error => {\r\n  console.log(error)\r\n})\r\n\r\n// 响应拦截器\r\naxios.interceptors.response.use(success => {\r\n  // 进入这里说明至少服务器已经访问到了\r\n\r\n  if (success.status && success.status === 200) {\r\n    // 业务逻辑错误\r\n    // 判断响应码\r\n    if (success.data.code === 500 || success.data.code === 401 || success.data.code === 403) {\r\n      Message.error({ message: success.data.message })\r\n      return\r\n    }\r\n    if (success.data.message) {\r\n      Message.success({ message: success.data.message })\r\n    }\r\n  }\r\n  return success.data\r\n}, error => {\r\n  // 进入这里说明服务器都没访问到\r\n\r\n  if (error.response.status === 504 || error.response.status === 404) {\r\n    Message.error({ message: '服务器挂了，呜呜呜' })\r\n  } else if (error.response.status === 403) {\r\n    Message.error({ message: '权限不足，请联系管理员' })\r\n  } else if (error.response.status === 401) {\r\n    Message.error({ message: '尚未登录，请登录' })\r\n    router.replace('/')\r\n  } else {\r\n    if (error.response.data.message) {\r\n      Message.error({ message: error.response.data.message })\r\n    } else {\r\n      Message.error({ message: '出现未知错误' })\r\n    }\r\n  }\r\n})\r\n\r\nconst base = ''\r\n\r\nconst querystring = require('querystring')\r\n// 请求封装\r\nexport const postRequest = (url, params) => {\r\n  return axios({\r\n    method: 'post',\r\n    url: `${base}${url}`,\r\n    data: params\r\n  })\r\n}\r\n\r\nexport const postRequest2 = (url, params) => {\r\n  return axios({\r\n    method: 'post',\r\n    url: `${base}${url}`,\r\n    data: querystring.stringify(params)\r\n  })\r\n}\r\n\r\nexport const getRequest = (url, params) => {\r\n  return axios({\r\n    method: 'get',\r\n    url: `${base}${url}` + '?' + querystring.stringify(params)\r\n  })\r\n}\r\n\r\nexport const putRequest = (url, params) => {\r\n  return axios({\r\n    method: 'put',\r\n    url: `${base}${url}`,\r\n    params: params\r\n  })\r\n}\r\n\r\nexport const deleteRequest = (url, params) => {\r\n  return axios({\r\n    method: 'delete',\r\n    url: `${base}${url}` + '?' + querystring.stringify(params)\r\n  })\r\n}\r\n"]}]}